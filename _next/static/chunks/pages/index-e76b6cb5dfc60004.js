(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6459)}])},6459:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ke},default:function(){return Ne}});var r=n(5893),o=n(5988),a=n.n(o),s=n(9008),i=n(214),c=n.n(i),u=n(7294),l=n(2004),f=n(1676),d=n(3680),p=n(7525),h=n(478),b=n(1330),y=n(7687),m=n(7851),g=n(682),j=n(1568),v=n(1019);function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function S(e,t){return!t||"object"!==k(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var k=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(s,e);var t,n,o,a=N(s);function s(){return x(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){return(0,r.jsx)(m.Z,{className:"bg-dark",children:(0,r.jsxs)(g.Z,{children:[(0,r.jsx)(j.Z,{role:"button",size:24,onClick:this.props.onClickInfo}),(0,r.jsxs)(m.Z.Brand,{href:"/",className:"mx-auto text-white",children:[(0,r.jsx)("img",{alt:"",src:"https://upload.wikimedia.org/wikipedia/commons/e/ec/Logo_of_TWICE.svg",width:"30",height:"30",className:"d-inline-block align-top"})," ","eardle"]}),(0,r.jsx)(v.Z,{role:"button",size:24,onClick:this.props.onClickStats})]})})}}])&&w(t.prototype,n),o&&w(t,o),s}(u.Component);function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function R(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?Z(e):t}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}var A=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function H(e,t){return e?"Skipped"===e?"secondary":e===t?"success":"danger":""}var L=function(e){var t=e.guess,n=e.answer,o=e.border;return(0,r.jsx)(p.Z,{bg:H(t,n),border:o,children:(0,r.jsxs)(p.Z.Body,{style:{padding:".75rem"},children:[t,"\xa0"]})})},z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(s,e);var t,n,o,a=B(s);function s(){var e;return E(this,s),C(Z(e=a.apply(this,arguments)),"generateCards",(function(e,t){for(var n=[],o=0;o<6;o++)n.push((0,r.jsx)(L,{guess:e[o],answer:t,border:o===e.length&&e[e.length-1]!==t?"light":null},o));return n})),e}return t=s,(n=[{key:"render",value:function(){return(0,r.jsx)(h.Z,{gap:2,children:this.generateCards(this.props.guesses,this.props.answer)})}}])&&T(t.prototype,n),o&&T(t,o),s}(u.Component),M=n(767);function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function X(e,t){return!t||"object"!==V(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}var V=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}var $=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(s,e);var t,n,o,a=Y(s);function s(){return W(this,s),a.apply(this,arguments)}return t=s,n=[{key:"render",value:function(){return(0,r.jsxs)(M.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){G(e,t,n[t])}))}return e}({},this.props,{children:[(0,r.jsx)(M.Z.Header,{closeButton:!0,children:(0,r.jsx)(M.Z.Title,{children:"HOW TO PLAY"})}),(0,r.jsxs)(M.Z.Body,{children:["Guess the TWEARDLE in six tries.",(0,r.jsx)("hr",{}),(0,r.jsx)("h3",{children:"ABOUT"}),"Inspired by Wordle, Heardle, Heardle-KPOOP, BTS-Heardle."]}),(0,r.jsx)(M.Z.Footer,{})]}))}}],n&&F(t.prototype,n),o&&F(t,o),s}(u.Component),J=n(5376),q=n(3328),Q=n(8278);var ee=function(e,t){var n=(0,u.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.log(r),t}})),r=n[0],o=n[1];return[r,function(t){try{var n=(a=t,(null!=(s=Function)&&"undefined"!==typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?t(r):t);o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(i){console.log(i)}var a,s}]};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}q.kL.register(q.uw,q.f$,q.ZL,q.Dx,q.u,q.De,Q.Z);var re=function(e){return(0,r.jsxs)("div",ne({},e,{children:[(0,r.jsx)("div",{className:"text-center",children:e.stat}),(0,r.jsx)("div",{className:"text-center",children:e.label})]}))},oe=function(e){var t=(0,u.useState)(0),n=t[0],o=t[1],a=(0,u.useState)(0),s=a[0],i=a[1];return(0,u.useEffect)((function(){var t=e.stats.reduce((function(e,t){return e+t}),0);o(t),i(t-e.stats[6])}),[e.stats]),(0,r.jsxs)(M.Z,ne({},e,{children:[(0,r.jsx)(M.Z.Header,{closeButton:!0,children:(0,r.jsx)(M.Z.Title,{children:"STATS"})}),(0,r.jsxs)(M.Z.Body,{children:[(0,r.jsxs)(h.Z,{direction:"horizontal",gap:3,className:"mx-auto justify-content-center",children:[(0,r.jsx)(re,{stat:n,label:"Played"}),(0,r.jsx)(re,{stat:parseInt(s/n*100||0),label:"Win %"}),(0,r.jsx)(re,{stat:e.currentStreak,label:"Current Streak"}),(0,r.jsx)(re,{stat:e.maxStreak,label:"Max Streak"})]}),(0,r.jsx)(J.$Q,{options:{tooltips:{enabled:!1},legend:{display:!1},scales:{x:{grid:{display:!1}},y:{display:!1,grid:{display:!1}}},responsive:!0,plugins:{tooltip:{enabled:!1},legend:{display:!1},datalabels:{formatter:function(e){return e>0?e:""},anchor:"end",align:"start",labels:{value:{color:"white"}}}}},data:{labels:["1","2","3","4","5","6"],datasets:[{label:"TEST",data:e.stats.slice(0,6),backgroundColor:["rgba(0, 0, 0, 1)","rgba(0, 0, 0, 1)","rgba(0, 0, 0, 1)","rgba(0, 0, 0, 1)","rgba(0, 0, 0, 1)","rgba(0, 0, 0, 1)"]}]}})]})]}))};oe.displayName="StatsModal";var ae=oe,se=n(381),ie=n.n(se);ie()().format();var ce=function(e){var t=ie()();return e.diff(t)};function ue(){var e=(0,u.useMemo)((function(){return ie()().clone().endOf("day")}),[]),t=(0,u.useState)(ce(e)),n=t[0],o=t[1],a=(0,u.useRef)(0),s=(0,u.useCallback)((function(){o(ce(e))}),[]);return(0,u.useEffect)((function(){return a.current=setInterval(s,1e3),function(){clearInterval(a.current)}}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"text-center",children:"Next TWeardle"}),n<1?(0,r.jsx)("h3",{className:"text-center",children:"Available"}):(0,r.jsx)("h3",{className:"text-center",children:ie().utc(n).format("HH:mm:ss")})]})}var le=n(5152),fe=function(e){return(0,r.jsx)(u.Fragment,{children:e.children})},de=(0,le.default)((function(){return Promise.resolve(fe)}),{ssr:!1}),pe=n(6149),he=n(2752),be=n(6820);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(c){i=!0,o=c}finally{try{s||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}var we=[1,2,3,4,8,16],Oe="PENDING",Se="SOLVED",_e={gameNumber:-1,guesses:[],status:Oe},ke=!0,Ne=function(e){(0,u.useEffect)((function(){}),[e.songs]);var t=(0,u.useState)(!1),n=t[0],o=t[1],i=je(ee("gameState",_e),2),m=i[0],g=i[1],j=je(ee("stats",[0,0,0,0,0,0,0]),2),v=j[0],x=j[1],w=je(ee("currentStreak",0),2),O=w[0],S=w[1],_=je(ee("maxStreak",0),2),k=_[0],N=_[1],Z=(0,u.useState)([]),E=Z[0],T=Z[1],C=(0,u.useState)(!1),I=C[0],R=C[1],D=(0,u.useState)(!1),A=D[0],B=D[1],H=(0,u.useState)(!1),L=H[0],M=H[1],W=(0,u.useState)((function(){var t=function(e,t){var n=new Date(e),r=new Date(t).setHours(0,0,0,0)-n.setHours(0,0,0,0);return Math.floor(r/864e5)},n=e.songs,r=(n[Math.floor(Math.random()*n.length)],new Date(2015,9,20,0,0,0,0)),o=new Date;o.setDate(o.getDate());var a=t(r,o),s=n[a%n.length],i=a%(parseInt(s.duration/1e3)-20);return ge({gameNumber:t(new Date(2022,2,26,0,0,0,0),o)},s,{offset:i})})),F=W[0],G=(W[1],(0,u.useState)()),U=G[0],X=G[1];(0,u.useEffect)((function(){fetch(F.hlsUrl+"?client_id=u8V3dqZ2Fiu0ciuXebiXDmUpKEeVEDmw&app_version=1647868284&app_locale=e",{mode:"no-cors"}).then((function(e){return e.json()})).then((function(e){X(e.url)}))}),[F.hlsUrl]),(0,u.useEffect)((function(){F.gameNumber!=m.gameNumber&&g(ge({},_e,{gameNumber:F.gameNumber})),(F.gameNumber-m.gameNumber>1||m.status!==Se)&&S(0)}),[F.gameNumber]);var K=function(){o(!n)},V=(0,u.useState)(),Y=V[0],J=V[1],q=function(e){if(e){var t=ve(m.guesses).concat([e]),n=m.status;if(e===F.title){var r=ve(v);r[m.guesses.length]++,x(r),S(O+1),N(Math.max(O+1,k)),n=Se}else if(t.length===we.length){var o=ve(v);o[6]++,x(o),S(0),n="FAILED"}g(ge({},m,{guesses:t,status:n})),T([])}};return(0,r.jsx)(de,{children:(0,r.jsxs)("div",{className:"jsx-bd380a367055a6cc",children:[(0,r.jsx)(a(),{id:"bd380a367055a6cc",children:"html, body, body>div:first-child, div#__next, div#__next>div{height:100%}"}),(0,r.jsx)(s.default,{children:(0,r.jsxs)("title",{className:"jsx-bd380a367055a6cc",children:["TWeardle ",F.gameNumber]})}),(0,r.jsxs)("main",{className:"jsx-bd380a367055a6cc "+([c().fill,"container-md","pb-3"].join(" ")||""),children:[(0,r.jsxs)(h.Z,{gap:2,className:c().fill,children:[(0,r.jsx)(P,{onClickInfo:function(){return B(!0)},onClickStats:function(){return M(!0)}}),(0,r.jsx)(z,{guesses:m.guesses,answer:F.title}),m.status!==Oe&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{bg:"secondary",className:"p-2",children:(0,r.jsxs)(h.Z,{direction:"horizontal",gap:3,className:"justify-content-around",children:[(0,r.jsx)(ue,{}),(0,r.jsxs)(d.Z,{variant:"primary",onClick:function(){var e="TWeardle ".concat(m.gameNumber,"\n\n");m.status===Se?e+="\ud83d\udd0a":e+="\ud83d\udd07";for(var t=0;t<6;t++){var n=m.guesses[t];n?"Skipped"===n?e+="\u2b1b":n===F.title?e+="\ud83d\udfe9":e+="\ud83d\udfe5":e+="\u2b1c"}e+="\nhttps://tweardle.bryanching.net/",navigator.clipboard.writeText(e)},children:["Share ",(0,r.jsx)(pe.Z,{})]})]})}),(0,r.jsx)(p.Z,{bg:"secondary",className:"p-1",children:(0,r.jsxs)(h.Z,{direction:"horizontal",gap:3,children:[(0,r.jsx)(b.Z,{thumbnail:!0,fluid:!0,style:{height:"7rem"},src:F.artwork_url.replace("large","t500x500")}),(0,r.jsxs)("div",{className:"jsx-bd380a367055a6cc mx-auto",children:[(0,r.jsx)("h3",{className:"jsx-bd380a367055a6cc",children:F.title+"\n"}),(0,r.jsx)("small",{className:"jsx-bd380a367055a6cc text-muted",children:F.album})]})]})})]}),I&&(0,r.jsxs)(r.Fragment,{children:[m.status===Oe&&(0,r.jsx)(f.Z,{children:(0,r.jsx)(f.Z.Group,{className:"mb-3",controlId:"formGuess",children:(0,r.jsx)(y.pY,{id:"guess",onChange:function(e){T(e)},maxResults:5,paginate:!1,paginationText:"get rid of me",options:e.titleList||[],placeholder:"Guess",minLength:1,onKeyDown:function(e){"Enter"===e.key&&q(E[0])},selected:E,dropup:!0})})}),(0,r.jsxs)(h.Z,{direction:"horizontal",gap:3,children:[m.status===Oe&&(0,r.jsx)(d.Z,{variant:"secondary",onClick:function(){return q("Skipped")},children:m.guesses.length<we.length-1?"Skip":"Give Up"}),n?(0,r.jsx)(be.Z,{size:50,role:"button",className:"mx-auto",onClick:K}):(0,r.jsx)(he.Z,{size:50,role:"button",className:"mx-auto",onClick:K}),m.status===Oe&&(0,r.jsx)(d.Z,{variant:"success",onClick:function(){return q(E[0])},children:"Submit"})]})]})]}),(0,r.jsx)(l.Z,{volume:.25,url:U,ref:function(e){J(e)},playing:n,style:{display:"none"},onProgress:function(e){e.playedSeconds-F.offset>=we[m.guesses.length]&&m.status===Oe&&o(!1)},progressInterval:100,onReady:function(){R(!0)},onStart:function(){Y.seekTo(F.offset)},onPlay:function(e){m.status===Oe?Y.seekTo(F.offset):Y.seekTo(0)}}),(0,r.jsx)($,{show:A,onHide:function(){B(!1)},centered:!0}),(0,r.jsx)(ae,{show:L,onHide:function(){M(!1)},centered:!0,stats:v,currentStreak:O,maxStreak:k})]})]})})}},214:function(e){e.exports={fill:"Home_fill__vxIY4"}}},function(e){e.O(0,[885,570,785,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);